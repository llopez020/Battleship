<!DOCTYPE html>
<html>
    <head>
        <title>BattleShip</title>
        <link rel="stylesheet" href="styles.css">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@500&display=swap" rel="stylesheet">
    </head>

    <body>
        <div id="bodybg"> </div>
        <div id="bg"> </div>

        <div id="gameboard">
            <div id="place"> PLACE YOUR SHIPS!</div>
            <div class="grid player1">
                <div id="grid1"> </div>
                <img id="hover"></img>
            </div>
            <div class="grid player2">
                <div id="grid2"> </div>
            </div>

            <p1 id="piecenum">PIECE: </p1>
            <p1 id="flip">HORIZONTAL</p1>
            <p1 id="turn"></p1>
            <p1 id="hitmiss"></p1>
            <img id="boatpic" src="files/boatn1.png">
        </div>

        <div id="footer">
            <div id="foottext">BATTLESHIP GAME MADE BY GABE MAUGER, ISMAEL PARRA, ISAAC APOLONIO DURAN, LEVI LOPEZ (2022)</div>
        </div>

        <div id="header">
            <div id="title"> BATTLESHIP</div>
            <div id="but1">HOME</div>
            <div id="but2">PLAY</div>
            <div id="but3">LEADERBOARD</div>
            <img id="headboat" src="files/boat1.png">
        </div>
        <div id="header2">
            <div id="login"> Login</div>
            <div id="reg"> Register</div>
            <div id="logged"></div>	
            <div id="signout"></div>
            <div id="gamekey">Game key: </div>
            <input type="text" id="key" name="key" placeholder="12345"><br><br>
            <input type="submit" id="submit">	
        </div>

    </body>
    <script>
        var home = document.getElementById("but1");
        var play = document.getElementById("but2");
        var lead = document.getElementById("but3");
        var log = document.getElementById("login");
        var regi = document.getElementById("reg");

        home.addEventListener("click", function(e) {
            window.location.href = '/home';
        });

        play.addEventListener("click", function(e) {
            window.location.href = '/';
        });

        lead.addEventListener("click", function(e) {
            window.location.href = '/leaderboard';
        });

        log.addEventListener("click", function(e) {
            window.location.href = '/signin';
        });

        regi.addEventListener("click", function(e) {
            window.location.href = '/register';
        });

        signout.addEventListener("click", function(e) {
            document.cookie.split(";").forEach(function(c) { document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); });
            window.location.href = '/signin';
        });

        if (document.cookie.substring(8).length!=0) {
            console.log(document.cookie.substring(8));
            var b = document.getElementById("logged");
            b.innerHTML = "Logged in as: " + document.cookie.substring(8);
            var s = document.getElementById("signout");
            s.innerHTML = "Sign Out";
            var l = document.getElementById("login");
            l.innerHTML = "";
            l.style.borderWidth = "0px";
            var r = document.getElementById("reg");
            r.innerHTML = "";
            r.style.borderWidth = "0px";
            s.style.top = "15px";
            s.style.pointerEvents = 'auto';
            r.style.pointerEvents = 'none';
            l.style.pointerEvents = 'none';
            var p = document.getElementById("para5");
            p.innerHTML = "Your wins are recorded so you can climb to the top of the leaderboard!"

        } else {
            var b = document.getElementById("logged");
            b.innerHTML = "";
            var s = document.getElementById("signout");
            s.innerHTML = "";
            var l = document.getElementById("login");
            l.innerHTML = " Login";
            l.style.borderWidth = "1px";
            var r = document.getElementById("reg");
            r.innerHTML = "Register";
            r.style.borderWidth = "1px";
            s.style.top = "200px";
            b.style.pointerEvents = 'none';
            s.style.pointerEvents = 'none';
            r.style.pointerEvents = 'auto';
            l.style.pointerEvents = 'auto';
        }

    </script>
    <script src='/socket.io/socket.io.js'></script>
    <script src="app.js"></script>
</html>
